<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tugas 2</title>
  </head>
  <body>

    <script>
      let jumlah_pegawai = 100,
        jabatan,
        gapok,
        tunjanganJabatan,
        tunjanganKesehatan,
        gajiKotor;

      var table = `<table border="1" cellpadding="7" style="width:100%">`;
      // table head
      table += `<thead>`;
      table += `<tr style="background:tomato">`;
      table += `<th align="center">NO</th>`;
      table += `<th>NAMA</th>`;
      table += `<th>JABATAN</th>`;
      table += `<th>AGAMA</th>`;
      table += `<th>GAJI POKOK</th>`;
      table += `<th>TUNJANGAN JABATAN</th>`;
      table += `<th>TUNJANGAN KESEHATAN</th>`;
      table += `<th>GAJI KOTOR</th>`;
      table += `<th>ZAKAT PROFESI</th>`;
      table += `<th>TAKE HOME PAY</th>`;
      table += `</tr>`;
      table += `</thead>`;
      // akhir table head

      // table body
      table += `<tbody>`;

      for (i = 1; i <= 100; i++) {
        if (i <= 25) {
          jabatan = "Manager";
        } else if (i > 25 && i <= 50) {
          jabatan = "Asisten Manager";
        } else if (i > 51 && i <= 75) {
          jabatan = "Supervisor";
        } else if (i > 75 && i <= 100) {
          jabatan = "Staff";
          gapok = 4000000;
        }

        switch (jabatan) {
          case "Manager":
            gapok = 15000000;
            break;
          case "Asisten Manager":
            gapok = 10000000;
            break;
          case "Supervisor":
            gapok = 7000000;
            break;
          case "Staff":
            gapok = 4000000;
            break;
          default:
            gapok = 0;
            break;
        }

        // perhitungan
        tunjanganJabatan = gapok * (20/100);
        tunjanganKesehatan = gapok * (10/100);
        gajiKotor = gapok + tunjanganJabatan + tunjanganKesehatan;
        agama = i % 2 == 1 ? 'Muslim' : 'Non Muslim';
        warnaBg = i % 2 == 1 ? 'yellow' : 'lightblue';
        zakatProfesi = agama == 'Muslim' && gajiKotor >= 7000000 ? gajiKotor*(2.5/100) : 0;
        takeHomePay = gajiKotor - zakatProfesi;

        table += `<tr style="background:${warnaBg}">`;
        table += `<td align="center">${i}</td>`;
        table += `<td>Pegawai ${i}</td>`;
        table += `<td>${jabatan}</td>`;
        table += `<td>${agama}</td>`;
        table += `<td>Rp. ${gapok}</td>`;
        table += `<td>Rp. ${tunjanganJabatan}</td>`;
        table += `<td>Rp. ${tunjanganKesehatan}</td>`;
        table += `<td>Rp. ${gajiKotor}</td>`;
        table += `<td>Rp. ${zakatProfesi}</td>`;
        table += `<td>Rp. ${takeHomePay}</td>`;
        table += `</tr>`;
      }

      table += `</tbody>`;

      // akhir table body
      table += `</table>`;

      // render
      document.write(
        '<h2 style="text-align:center">Daftar Pegawai</h2>'
      );
      document.write(table);
    </script>
  </body>
</html>
